<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouTube Sentiment Analyzer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ” ØªØ­Ù„ÙŠÙ„ Ù…Ø´Ø§Ø¹Ø± ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙÙŠØ¯ÙŠÙˆ ÙŠÙˆØªÙŠÙˆØ¨</h1>

    <label for="videoId">ğŸ”— Ø£Ø¯Ø®Ù„ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:</label>
    <input type="text" id="videoId" placeholder="Ù…Ø«Ø§Ù„: dQw4w9WgXcQ">
    <button onclick="analyzeComments()">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¢Ù†</button>

    <h2>ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
    <div id="summary">
      <p>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª: <span id="total">-</span></p>
      <p>Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©: <span id="positive">-</span></p>
      <p>Ù…Ø­Ø§ÙŠØ¯Ø©: <span id="neutral">-</span></p>
      <p>Ø³Ù„Ø¨ÙŠØ©: <span id="negative">-</span></p>
    </div>

    <h2>ğŸ’¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…Ø¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„:</h2>
    <table>
      <thead>
        <tr>
          <th>Ø§Ù„ØªØ¹Ù„ÙŠÙ‚</th>
          <th>Ø§Ù„Ù†ØªÙŠØ¬Ø©</th>
          <th>Ø§Ù„Ø¯Ø±Ø¬Ø©</th>
        </tr>
      </thead>
      <tbody id="results"></tbody>
    </table>
  </div>

  <script>
    async function analyzeComments() {
      const videoId = document.getElementById('videoId').value.trim();
      if (!videoId) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ø±Ù ÙÙŠØ¯ÙŠÙˆ.");

      const response = await fetch('/analyze', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ videoId })
      });

      const data = await response.json();
      const table = document.getElementById('results');
      table.innerHTML = ''; // ØªÙØ±ÙŠØº Ø§Ù„Ø¬Ø¯ÙˆÙ„

      data.comments.forEach(comment => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${comment.text}</td>
          <td>${comment.sentiment}</td>
          <td>${comment.score}</td>
        `;
        table.appendChild(row);
      });

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ø®Øµ
      document.getElementById('total').innerText = data.summary.total;
      document.getElementById('positive').innerText = data.summary.positive;
      document.getElementById('neutral').innerText = data.summary.neutral;
      document.getElementById('negative').innerText = data.summary.negative;
    }
  </script>
</body>
</html>
